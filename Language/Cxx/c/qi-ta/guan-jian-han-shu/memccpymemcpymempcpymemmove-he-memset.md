# memccpy、memcpy、mempcpy、memmove 和 memset

下面是关于 `memccpy`、`memcpy`、`mempcpy`、`memmove` 和 `memset` 函数的关系、区别及注意事项的表格：

| **函数**    | **功能**                                | **返回值**                       | **适用场景**                                         | **注意事项**                                      |
| --------- | ------------------------------------- | ----------------------------- | ------------------------------------------------ | --------------------------------------------- |
| `memccpy` | 复制内存区域直到遇到指定字符或达到指定长度，复制时遇到字符停止。      | 返回指向字符之后的指针，若未找到字符则返回 `NULL`。 | 当你想复制部分内存并在遇到特定字符时停止时使用。                         | 如果源内存区域中没有找到指定字符，返回 `NULL`，不会把整个内存区域复制完。      |
| `memcpy`  | 复制内存区域，直接从源地址复制到目标地址，适用于不重叠的内存区域。     | 返回目标内存区域的指针。                  | 当内存区域不重叠时，可以使用此函数实现快速复制。                         | 源和目标内存区域不能重叠，重叠时可能会导致未定义行为。                   |
| `mempcpy` | 类似于 `memcpy`，但返回指向目标末尾的指针，而不是目标的起始地址。 | 返回目标区域末尾的指针。                  | 当你希望在复制后立即使用目标区域末尾的地址时，`mempcpy` 比 `memcpy` 更方便。 | 此函数是 GNU 扩展，不是标准 C 库函数，因此在非 GNU 环境下可能不可用。     |
| `memmove` | 复制内存区域，支持源和目标内存区域重叠，处理时会做临时缓冲来避免覆盖问题。 | 返回目标内存区域的指针。                  | 当源和目标内存区域可能重叠时使用，确保数据不被覆盖。                       | 比 `memcpy` 略慢，因为需要额外的处理来确保重叠区域的正确复制。          |
| `memset`  | 将指定值填充到内存区域。                          | 返回目标内存区域的指针。                  | 初始化或者重置一块内存为某一特定的值时使用，例如将内存块清零。                  | 填充的字节值是按每个字节进行的，因此只能用于基本字节级别的初始化，不能初始化复杂数据结构。 |

#### 主要区别总结：

1. **`memccpy` 和 `memcpy`** 都是内存复制函数，但 `memccpy` 在遇到特定字符时停止复制，而 `memcpy` 复制整个指定长度的内存区域。
2. **`mempcpy`** 类似于 `memcpy`，但返回指向目标内存末尾的指针，适合需要立即访问复制末尾地址的场景。
3. **`memmove`** 与 `memcpy` 的主要区别在于它支持内存区域重叠，适合复制重叠的内存块。
4. **`memset`** 不是复制函数，而是内存填充函数，用于设置指定内存区域的值。

#### 注意事项：

* 对于可能重叠的内存区域，应使用 `memmove` 而非 `memcpy`。
* `memccpy` 和 `mempcpy` 是非标准函数，在某些平台上可能不可用。
