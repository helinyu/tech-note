# 对象

在 C++ 中，对象是类的一个实例，表示数据和操作这些数据的方法的结合。对象是面向对象编程（OOP）的核心概念之一，使用对象可以更好地组织代码，提高代码的重用性和可维护性。

#### 1. 对象的定义

* **对象**是基于类的一个具体实例。类可以看作是对象的蓝图，而对象是根据这个蓝图创建的实际实体。
* 对象可以具有**属性**（数据成员）和**行为**（成员函数）。

#### 2. 对象的创建

对象可以通过以下几种方式创建：

**1. 栈上创建对象**

在栈上创建对象时，使用类名直接声明对象。对象在超出其作用域时自动销毁。

```cpp
class Point {
public:
    int x;
    int y;

    void display() {
        std::cout << "Point(" << x << ", " << y << ")" << std::endl;
    }
};

int main() {
    Point p1; // 在栈上创建对象
    p1.x = 10;
    p1.y = 20;
    p1.display(); // 输出：Point(10, 20)

    return 0; // p1 自动销毁
}
```

**2. 堆上创建对象**

在堆上创建对象时，使用 `new` 关键字。对象需要手动销毁，使用 `delete`。

```cpp
int main() {
    Point* p2 = new Point(); // 在堆上创建对象
    p2->x = 30;
    p2->y = 40;
    p2->display(); // 输出：Point(30, 40)

    delete p2; // 手动销毁对象
    return 0;
}
```

#### 3. 对象的特性

* **封装**：对象将数据和方法封装在一起，只允许通过公共接口访问。这是面向对象编程的一个重要特性。
* **状态和行为**：对象的状态由其数据成员表示，行为由其成员函数表示。
* **身份**：每个对象都有一个唯一的身份，即使它们的状态相同。

#### 4. 对象的生命周期

* **栈对象**：在栈上创建的对象的生命周期由其作用域决定。当对象超出作用域时，它会被自动销毁。
* **堆对象**：在堆上创建的对象需要手动管理其生命周期。对象使用 `new` 创建，使用 `delete` 销毁。

#### 5. 对象的复制

* **复制构造函数**：在创建新对象时，可以使用另一个对象的值初始化它。这称为对象的复制。C++ 提供了默认的复制构造函数，但可以根据需要进行重载。

```cpp
class Point {
public:
    int x;
    int y;

    Point(int a, int b) : x(a), y(b) {} // 带参数的构造函数

    // 复制构造函数
    Point(const Point &p) {
        x = p.x;
        y = p.y;
    }

    void display() {
        std::cout << "Point(" << x << ", " << y << ")" << std::endl;
    }
};

int main() {
    Point p1(10, 20); // 创建对象 p1
    Point p2 = p1; // 使用复制构造函数创建对象 p2
    p2.display(); // 输出：Point(10, 20)

    return 0;
}
```

#### 6. 对象的比较

* 对象比较可以通过重载操作符来实现。C++ 允许重载比较操作符（如 `==`、`!=` 等），以便比较对象的状态。

#### 7. 总结

在 C++ 中，对象是类的实例，封装了数据和方法。通过对象，开发者能够实现封装、继承和多态等面向对象的特性，使得代码更加模块化和可维护。对象的创建可以在栈上或堆上进行，管理对象的生命周期和内存是使用 C++ 时必须关注的重要方面。
