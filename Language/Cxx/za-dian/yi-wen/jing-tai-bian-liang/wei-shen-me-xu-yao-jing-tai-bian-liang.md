# 为什么需要静态变量

静态变量在C语言中有多种用途，主要体现在以下几个方面：

#### 1. **保持函数状态**

静态变量可以在函数调用之间保持其值。这使得在多次调用同一函数时，可以记录状态或计数。例如，在递归函数或需要统计调用次数的情况下，静态变量非常有用。

#### 2. **避免全局变量的命名冲突**

静态变量的作用域限于其定义的文件或函数，可以减少命名冲突的风险。这对于大型项目或多个模块的情况下尤其重要。

#### 3. **初始化只发生一次**

静态变量在程序运行期间只会被初始化一次，这使得它们适合用作全局配置信息或常量的存储。

#### 4. **局部变量的持久性**

局部变量在函数退出后会被销毁，而静态变量则会在函数退出后保持其值。这对于需要跨函数调用保留数据的场景非常有用。

#### 5. **内存管理**

静态变量分配在静态存储区，不需要在栈上分配和释放内存，减少了内存管理的复杂性。

#### 示例代码

```c
#include <stdio.h>

void countCalls() {
    static int callCount = 0; // 静态变量
    callCount++;
    printf("Function has been called %d times.\n", callCount);
}

int main() {
    for (int i = 0; i < 5; i++) {
        countCalls();
    }
    return 0;
}
```

在这个例子中，`callCount`静态变量用于记录函数`countCalls`被调用的次数。每次调用该函数时，`callCount`的值会持续增加，反映函数的调用次数。

静态变量的这些特性使其在某些特定场景中非常有用。



静态变量有全局变量的持久性 —— 程序启动到结束之间都存在；

同时又有全局变量没有的， 区域性，也就是在定义的范围内才可以访问，而全局变量在整个程序运行期间都可以访问。
