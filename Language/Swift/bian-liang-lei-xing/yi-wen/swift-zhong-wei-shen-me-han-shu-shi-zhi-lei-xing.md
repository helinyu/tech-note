---
icon: monero
---

# swift中为什么函数是值类型？

在Swift中，函数本身不是值类型。这是一个常见的误解，因为Swift允许将函数作为值来使用，如闭包（closure）。让我们澄清一下：

#### 函数类型 vs. 闭包

* **函数**：在Swift中，函数是定义在全局作用域或类、结构体等类型内部的一种代码块，它具有固定的签名（参数类型和返回类型），并且通常是在编译时确定的。函数本身是一个引用类型，意味着函数的名字是一个指向函数实现的引用。
* **闭包**：闭包是一个可以捕获其周围环境中的常量和变量的自包含代码块。闭包可以存储在其周围的变量和常量的引用，这些引用在闭包执行时仍然有效。由于闭包能够捕获上下文信息，它们在Swift中被设计成值类型，这意味着每次创建一个新的闭包时，都会创建一个包含闭包实现及其捕获列表的新实例。

#### 闭包作为值类型

闭包作为值类型意味着你可以将它们存储在变量或常量中，并且可以将它们作为参数传递给其他函数，或者从函数中返回它们。这是因为闭包可能需要携带额外的信息（如捕获列表），并且每次创建一个新的闭包实例时都会生成新的数据。

例如：

```swift
let numberAdder: (Int, Int) -> Int = { (a, b) in
    return a + b
}

let sum = numberAdder(3, 4) // 返回 7
```

在这个例子中，`numberAdder` 是一个闭包，它可以被赋值给一个变量，并且可以像任何其他值类型一样被使用。

#### 总结

* **函数**：函数本身是一个引用类型，它是指向一段可执行代码的引用。
* **闭包**：闭包虽然看起来像是函数，但实际上它是一个值类型。闭包可以捕获上下文，因此每次创建一个新的闭包实例时，都会创建一个新的值。

因此，在Swift中，当我们谈论“函数作为值”时，我们实际上指的是闭包，而不是严格意义上的函数。函数本身仍然是一个引用类型。
