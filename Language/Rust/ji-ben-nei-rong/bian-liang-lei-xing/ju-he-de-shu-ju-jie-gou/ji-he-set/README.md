# 集合Set

基本属性和方法

| s`ize`            | 返回集合中的元素数量。                           |
| ----------------- | ------------------------------------- |
| `add(value)`      | 添加一个元素到集合中。                           |
| `delete(value)`   | 删除集合中的指定元素。                           |
| `has(value)`      | 检查集合中是否包含某个元素。                        |
| `clear()`         | 清空集合中的所有元素。                           |
| `forEach(fn)`     | 遍历集合中的所有元素，执行回调函数。                    |
| `keys()`          | 返回集合中所有元素的迭代器（键和值相同）。                 |
| `values()`        | 返回集合中所有元素的迭代器（与 `keys()` 相同）。         |
| `entries()`       | 返回集合中所有元素的迭代器，元素为 `[value, value]` 对。 |
| `Symbol.iterator` | 使 `Set` 可用于 `for...of` 循环。            |

在 Rust 中，`Set` 通常指的是哈希集合（`HashSet`），它是一个不允许重复元素的集合，基于哈希表实现。`HashSet` 提供了高效的插入、查找和删除操作。

#### 1. **Rust 中的 HashSet 内容**

**创建 HashSet**

需要引入标准库的 `std::collections` 模块。

```rust
use std::collections::HashSet;

fn main() {
    let mut set = HashSet::new();

    // 插入元素
    set.insert("apple");
    set.insert("banana");
    set.insert("orange");

    // 检查元素是否存在
    if set.contains("apple") {
        println!("集合中包含苹果");
    }

    // 遍历集合
    for fruit in &set {
        println!("{}", fruit);
    }

    // 移除元素
    set.remove("banana");
}
```

**特性**

* **唯一性**：集合中的元素是唯一的，插入重复元素不会产生新的元素。
* **动态大小**：可以在运行时动态添加或删除元素。
* **无序存储**：集合中元素的存储顺序不固定，遍历时可能以不同的顺序返回。

#### 2. **与其他语言的 Set 比较**

| 特性       | Rust HashSet              | Java Set                        | Python set   | C++ std::unordered\_set |
| -------- | ------------------------- | ------------------------------- | ------------ | ----------------------- |
| **元素类型** | 支持任何实现了 `Hash` 和 `Eq` 的类型 | 支持任何对象类型                        | 支持任何不可变的哈希对象 | 支持任何实现了 `Hash` 的类型      |
| **唯一性**  | 不允许重复元素                   | 不允许重复元素                         | 不允许重复元素      | 不允许重复元素                 |
| **动态大小** | 支持动态大小，随时可以增删             | 支持动态大小                          | 支持动态大小       | 支持动态大小                  |
| **访问方式** | 通过元素直接访问                  | 通过元素直接访问                        | 通过元素直接访问     | 通过元素直接访问                |
| **无序存储** | 无固定顺序                     | 取决于具体实现（如 `HashSet`）            | 无固定顺序        | 无固定顺序                   |
| **线程安全** | 默认不安全，需要外部锁               | 可以使用 `ConcurrentHashSet` 实现线程安全 | 默认不安全        | 默认不安全                   |

#### 3. **总结**

Rust 的 `HashSet` 提供了一种高效的方式来存储和操作不重复的元素，强调类型安全和内存管理。与 Java 的 `Set`、Python 的 `set` 和 C++ 的 `unordered_set` 相比，Rust 的 `HashSet` 在性能和安全性上具有相似的优势。每种语言的实现都根据其特性有所不同，但都提供了灵活的集合操作功能。



