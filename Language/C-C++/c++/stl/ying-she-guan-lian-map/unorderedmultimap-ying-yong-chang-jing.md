# unordered\_multimap应用场景

`std::unordered_multimap`是 C++ 标准模板库中的关联容器，允许存在重复的键，以下是一些常见的应用场景：

**一、记录多值关联数据**

1. 日志分析：
   * 在日志记录系统中，可能需要记录多个事件与同一时间戳或其他标识符的关联。例如，记录不同类型的操作在特定时间点的发生情况。`std::unordered_multimap`可以将时间戳作为键，操作类型和其他相关信息作为值存储。这样可以方便地查询特定时间点发生的所有操作。
   * 比如，一个网络服务器的日志可能记录了不同用户在不同时间的访问请求。使用`std::unordered_multimap<long long, std::pair<std::string, std::string>>`可以将时间戳作为键，用户 ID 和请求类型作为值存储，以便分析服务器在不同时间的负载情况和用户行为。
2. 资源分配记录：
   * 在资源分配系统中，可能需要记录多个资源与同一请求者或其他标识符的关联。例如，记录多个设备被分配给同一个项目的情况。`std::unordered_multimap`可以将项目 ID 作为键，设备 ID 和其他相关信息作为值存储。这样可以方便地查询特定项目所分配的所有设备。
   * 假设在一个企业的设备管理系统中，多个设备可以被分配给不同的项目。使用`std::unordered_multimap<int, std::pair<std::string, std::string>>`可以将项目编号作为键，设备名称和设备状态作为值存储，以便跟踪设备在不同项目中的使用情况。

**二、多对多关系的数据存储**

1. 社交网络分析：
   * 在社交网络中，一个人可以与多个人有多种关系。例如，一个人可以有多个朋友、同事或家人。`std::unordered_multimap`可以将人的 ID 作为键，关系类型和对方的 ID 作为值存储。这样可以方便地查询一个人在不同关系中的所有联系人。
   * 比如，使用`std::unordered_multimap<int, std::pair<std::string, int>>`可以将用户 ID 作为键，关系类型（如“朋友”、“同事”等）和对方用户 ID 作为值存储，以便进行社交网络分析和推荐。
2. 课程选课系统：
   * 在课程选课系统中，一个学生可以选择多门课程，一门课程也可以有多个学生选择。存在多对多的关系。`std::unordered_multimap`可以将学生 ID 作为键，课程 ID 和选课时间作为值存储。这样可以方便地查询一个学生所选的所有课程，以及一门课程的所有选课学生。
   * 假设在一个学校的选课系统中，使用`std::unordered_multimap<int, std::pair<int, std::string>>`可以将学生编号作为键，课程编号和选课日期作为值存储，以便管理学生的选课情况和课程的报名人数。

**三、数据聚合和分组**

1. 按类别分组数据：
   * 在数据分析中，可能需要将数据按照某个类别进行分组。例如，将销售数据按照产品类别进行分组，以便分析不同类别的销售情况。`std::unordered_multimap`可以将类别作为键，数据项和其他相关信息作为值存储。这样可以方便地对同一类别的数据进行聚合和分析。
   * 比如，在一个电商平台的销售数据分析中，使用`std::unordered_multimap<std::string, std::pair<double, std::string>>`可以将产品类别作为键，销售金额和订单编号作为值存储，以便分析不同产品类别的销售趋势和热门商品。
2. 多维度数据聚合：
   * 在复杂的数据聚合场景中，可能需要根据多个维度进行分组和聚合。例如，将用户行为数据按照用户 ID、时间和行为类型进行分组。`std::unordered_multimap`可以将多个维度的组合作为键，行为详情和其他相关信息作为值存储。这样可以方便地对多维度数据进行复杂的分析和统计。
   * 假设在一个在线游戏的用户行为分析中，使用`std::unordered_multimap<std::tuple<int, long long, std::string>, std::pair<int, std::string>>`可以将用户 ID、时间戳和行为类型作为键，游戏得分和游戏关卡作为值存储，以便分析用户在不同时间和不同行为下的游戏表现。
