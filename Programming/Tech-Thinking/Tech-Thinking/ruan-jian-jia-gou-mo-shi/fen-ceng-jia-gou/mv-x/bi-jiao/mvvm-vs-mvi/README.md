# MVVM vs MVI

MVVM（Model-View-ViewModel）和 MVI（Model-View-Intent）都是流行的架构模式，主要用于处理应用程序的业务逻辑和 UI 层的交互。

#### 1. MVVM 和 MVI 的关系

* **MVVM** 和 **MVI** 均分离了视图和业务逻辑，减少耦合，使得代码更具可读性和可维护性。
* [两者都采用 **单向数据流** 的思想](liang-zhe-de-dan-xiang-shu-ju-liu.md)，强调数据从模型层传递到视图层，视图对状态的更改触发新的数据流动，从而更新视图。&#x20;
* 都支持数据绑定（如使用 RxSwift 或其他响应式库），使得视图能够自动更新而不需要手动同步状态。

#### 2. MVVM 和 MVI 的区别

* **视图层职责**：在 MVVM 中，`ViewModel` 处理用户输入，并将转换后的数据暴露给视图，而 MVI 则要求 `View` 仅负责渲染 `Model`，事件处理通过 `Intent`（意图）来集中管理。
* **数据状态的管理**：
  * **MVVM**：`ViewModel` 持有数据的状态，通常使用 `Observable` 让 `View` 观察并更新数据。它允许视图和模型之间较为松散的关联，适合多状态 UI 场景。
  * **MVI**：将数据抽象为不可变的 `State`，每次事件都会生成新的状态，从而完全替换之前的状态。这种模式鼓励事件的“快照”方式更新 UI 状态，从而减少 UI 状态不一致的问题，适合状态复杂的场景。
* **单向数据流的实现**：在 **MVI** 中数据流非常清晰，从 `Intent` 到 `Model` 再到 `View`，更容易避免数据流混乱。而 **MVVM** 中，数据从 `ViewModel` 直接到 `View`，不强制要求 `Intent` 层级，所以在处理复杂的状态管理时，MVI 可能更具优势。
