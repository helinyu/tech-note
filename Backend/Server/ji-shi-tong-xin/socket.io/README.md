# socket.io

[官方教程](https://socket.io/zh-CN/)



### 1、支持协议

Socket.IO 支持多种传输协议，以确保在不同网络环境下的可靠连接。以下是 Socket.IO 支持的主要协议和传输方式：

1. **WebSocket**：
   * Socket.IO 的主要传输方式，提供全双工、持久的连接。
2. **XHR Polling (XMLHttpRequest Polling)**：
   * 通过发送 HTTP 请求的方式来实现实时通信，通常用于不支持 WebSocket 的浏览器。
3. **XHR Long Polling**：
   * 与普通的 XHR Polling 类似，但在每个请求中，服务器在有新数据时才会响应，这样可以减少延迟。
4. **Flash Sockets**：
   * 过去用于不支持 WebSocket 的浏览器（如 Internet Explorer 8 及更早版本），通过 Flash 插件实现。现在大多数浏览器已不再支持 Flash，因此这个选项不再常用。
5. **JSONP Polling**：
   * 通过 JSONP 技术进行轮询，这种方式允许跨域请求，适用于不支持 CORS 的环境。

Socket.IO 会根据客户端和服务器的支持情况自动选择最佳的传输方式，以实现最佳的性能和兼容性。通常情况下，优先使用 WebSocket，如果不支持或连接失败，则会回退到其他传输方式。

主要就是前面两个，其实在使用当中，就是使用了websocket协议。



### 2、内容

Socket.IO 提供了一系列强大的功能，支持**实时通信和事件驱动**的应用程序开发。以下是一些主要功能：

#### 1. **实时双向通信**

* **全双工通信**：客户端和服务器可以同时发送和接收消息，适合实时应用，如聊天应用、游戏和协作工具。

#### 2. **自动重连**

* 当连接断开时，Socket.IO 会自动尝试重连，确保连接的稳定性和可靠性。

#### 3. **事件驱动**

* 允许用户自定义事件并在客户端和服务器之间触发和监听这些事件，简化了通信的实现。

#### 4. **多种传输方式**

* 支持多种传输协议（如 WebSocket、XHR Polling、长轮询等），自动选择最佳的传输方式，确保在不同网络环境下的有效性。

#### 5. **命名空间**

* 支持命名空间（namespaces），允许在同一服务器上创建多个隔离的通信通道，从而实现更细粒度的控制和管理。

#### 6. **房间（Rooms）**

* 提供房间的概念，允许将多个客户端分组，以便向特定房间中的客户端发送消息。这对于构建私聊、游戏房间等功能非常有用。

#### 7. **连接和断开事件**

* 提供连接（`connect`）和断开（`disconnect`）事件，方便开发者处理客户端的连接状态变化。

#### 8. **数据传输**

* 支持传输各种类型的数据，包括文本、JSON 和二进制数据。通过事件可以轻松发送和接收这些数据。

#### 9. **中间件支持**

* 允许在 Socket.IO 事件处理之前插入中间件，以进行身份验证、日志记录等功能。

#### 10. **消息确认**

* 提供消息确认机制，确保消息在发送和接收之间的可靠性。

#### 11. **断开控制**

* 可以主动断开客户端连接，并在需要时限制连接数，以实现更好的资源管理。

#### 12. **跨域支持**

* 自动处理 CORS（跨域资源共享），确保不同源的请求能够成功连接。

#### 13. **支持原生事件**

* 支持原生 DOM 事件，可以与其他 JavaScript 代码无缝集成。

#### 14. **兼容性**

* 兼容各种浏览器和设备，确保在不同环境中的一致性和可靠性。

#### 示例应用场景

* **聊天应用**：支持实时消息传递和用户状态更新。
* **实时协作工具**：多人实时编辑和协作。
* **在线游戏**：实时游戏状态更新和玩家互动。
* **实时通知**：为用户提供动态通知和数据更新。

这些功能使得 Socket.IO 在构建需要实时交互的应用程序时非常方便和高效。

