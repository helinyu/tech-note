# 命令参数解释

这个命令用于在 macOS 平台上编译 Swift 项目，`utils/build-script` 是 Swift 项目的构建脚本，可以通过参数来控制构建配置。让我们逐个分析各个参数的含义：

1. **`--skip-build-benchmarks`**：
   * 跳过 Swift 基准测试代码的构建步骤，只编译核心代码。基准测试代码用于性能测试，在大多数编译场景下可以忽略，特别是调试或开发时不需要基准测试的结果。
2. **`--swift-darwin-supported-archs "$(uname -m)"`**：
   * 指定在 macOS（即 Darwin 系统）上支持的 Swift 架构。
   * `$(uname -m)` 用于获取当前系统的架构类型，比如 `arm64`（Apple Silicon）或 `x86_64`（Intel），这样可以只编译当前系统架构支持的部分，避免多架构编译的开销。
3. **`--release-debuginfo`**：
   * 在生成 release 版本的同时包含调试信息。这样可以使构建的产物达到接近发布版本的优化程度，同时保留调试符号，便于进行错误跟踪和调试。
4. **`--swift-disable-dead-stripping`**：
   * 禁用“死代码剥离”，即在编译过程中不会移除未使用的代码或数据。这在调试阶段可以帮助确保所有代码都保留，以便查看完整的调用栈或进行全面的测试。
   * 在发布阶段通常会启用死代码剥离，以减小二进制文件的大小并提升执行性能，但在调试或测试阶段往往会禁用它。
5. **`--bootstrapping=hosttools`**：
   * 指定为“hosttools”模式的自举编译。自举编译通常用于编译构建工具自身的依赖项，而 `hosttools` 模式意味着将直接使用主机（构建机器）上的工具链来编译，而不是使用预编译的二进制包。
   * 这样可以在没有完整工具链的环境下通过已有主机工具链来进行初始构建。

#### 总结

该命令的整体作用是，在 macOS 当前架构上进行 Swift 项目的构建，生成包含调试信息的 release 版本，并跳过基准测试和死代码剥离，同时使用主机工具链进行自举构建。这种配置通常适用于开发阶段的编译，便于调试和测试。
