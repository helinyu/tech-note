# WKWebView 为什么使用多进程架构？

`WKWebView` 采用多进程架构的主要原因是为了提高**安全性**、**性能**和**稳定性**，这也是现代浏览器架构中的一个普遍趋势。具体来说，有以下几点原因：

WKWebView 是主程序进程的子进程， WKWebView内部是多个子进程的

主进程 + webView（多个子进程）

1. **安全性**\
   多进程架构将网页内容和应用程序逻辑隔离。`WKWebView` 将渲染网页的工作放在一个单独的子进程中，<mark style="color:orange;">这样如果网页内容包含恶意代码或者出现崩溃，主应用程序不会受到影响</mark>。这种隔离机制可以防止网页中的安全漏洞危害整个应用，提升了整体的安全性。
2. **稳定性**\
   在单进程架构中，如果网页的渲染引擎崩溃，整个应用程序也会崩溃。而在多进程架构中，即使某个<mark style="color:orange;">网页或子进程崩溃，也不会影响到主应用程序和其他网页</mark>，主应用可以继续运行。
3. **性能**\
   多进程架构利用现代多核处理器的优势，能够让网页渲染与应用逻辑并行处理，从而提高响应速度。<mark style="color:red;">网页渲染工作被分配到单独的进程中，这减少了主线程的压力，使得 UI 更加流畅</mark>。
4. **内存管理**\
   多进程架构允许操作系统更好地管理内存。<mark style="color:red;">操作系统可以根据需求单独回收某个进程的内存，而不会影响整个应用的运行，这样可以提高内存利用效率</mark>，尤其在内存资源紧张的移动设备上效果显著。

总的来说，`WKWebView` 采用多进程架构是为了优化应用的安全性、性能和稳定性，跟随了现代浏览器的发展趋势。
